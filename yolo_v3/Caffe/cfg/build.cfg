[Common]
mode = build
use_aqt = True

[Parser]
model_type = caffe
model_name = yolo3
model_domain = object_detection
detection_postprocess = yolo3_full
input_model = input/yolov3.caffemodel
caffe_prototxt = input/yolov3.prototxt
input_data_format = NCHW
input_names = data
input_shapes = [1, 3, 608, 608]
output_names = layer82-conv,layer94-conv,layer106-conv
batch_size = 1
obj_threshold = 0.5
iou_threshold = 0.5
max_box_num = 5000
image_width = 608
image_height = 608
class_num = 80
grid_compensate = false
area_shift = 6

[AutoQuantizationTool]
quantize_method = SYMMETRIC
ops_per_channel = DepthwiseConv
reverse_rgb = False
ts_max_file = input/yolo3_max.npy 
ts_min_file = input/yolo3_min.npy 
quantize_batch_size = 1
input_mean = [0.0]
label_id_offset = 1
preprocess_mode = normalize
dataset_name = COCO
detection_postprocess = yolo
quant_precision = int8
weight_scale_optimize = [0.1, 0.31, 0.426]

[GBuilder]
outputs = aipu_yolo3Z2_1104.bin
target = Z2_1104

